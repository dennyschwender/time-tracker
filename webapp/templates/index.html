<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
    <title>TimeTracker</title>
    <link rel="stylesheet" href="/static/styles.css">
</head>

<body>
    <!-- Login/Register Modal -->
    <div id="auth_modal" class="modal" aria-hidden="false">
        <div class="modal-content auth-modal">
            <h2>ğŸ” TimeTracker</h2>
            <p class="info-text">Login or create a new account</p>
            
            <div id="auth_form">
                <label>
                    <span>Username</span>
                    <input type="text" id="auth_username" placeholder="Enter username" autocomplete="username">
                </label>
                <label>
                    <span>PIN (4+ digits)</span>
                    <input type="password" id="auth_pin" placeholder="Enter PIN" autocomplete="current-password" inputmode="numeric">
                </label>
                <div id="auth_error" class="error-message"></div>
                <div class="form-actions">
                    <button id="auth_login" class="btn btn-primary btn-block">Login</button>
                    <button id="auth_register" class="btn btn-secondary btn-block">Create Account</button>
                </div>
            </div>
        </div>
    </div>

    <header class="site-header">
        <div class="header-content">
            <h1>â±ï¸ TimeTracker</h1>
            <div class="header-right">
                <button id="theme_toggle" class="btn-icon" title="Toggle theme">ğŸŒ“</button>
                <span id="current_user" class="user-badge"></span>
                <button id="logout_btn" class="btn-icon" title="Logout" style="display:none;">ğŸšª</button>
                <button id="menu_toggle" class="menu-toggle" aria-label="Toggle menu">
                    <span class="hamburger"></span>
                </button>
            </div>
        </div>
    </header>

    <nav id="mobile_menu" class="mobile-menu" aria-hidden="true">
        <button class="nav-item active" data-view="timer">
            <span class="icon">â–¶ï¸</span>
            <span>Timer</span>
        </button>
        <button class="nav-item" data-view="entries">
            <span class="icon">ğŸ“‹</span>
            <span>Entries</span>
        </button>
        <button class="nav-item" data-view="manual">
            <span class="icon">â•</span>
            <span>Add Entry</span>
        </button>
        <button class="nav-item" data-view="sync">
            <span class="icon">ğŸ”„</span>
            <span>Sync</span>
        </button>
    </nav>

    <main class="main-content">
        <!-- Timer View -->
        <section id="view_timer" class="view active">
            <div class="card timer-card">
                <div class="timer-display">
                    <div id="timer_time">00:00:00</div>
                    <div id="timer_status" class="muted">Stopped</div>
                </div>
                <input type="text" id="timer_description" placeholder="What are you working on?">
                <div class="timer-controls">
                    <button id="timer_start" class="btn btn-primary btn-large">Start</button>
                    <button id="timer_stop" class="btn btn-danger btn-large" disabled>Stop</button>
                </div>
            </div>
        </section>

        <!-- Entries View -->
        <section id="view_entries" class="view">
            <!-- Calendar View -->
            <div class="calendar-container">
                <div class="calendar-header">
                    <button id="calendar_prev" class="btn-icon">â—€</button>
                    <h3 id="calendar_title">November 2025</h3>
                    <button id="calendar_next" class="btn-icon">â–¶</button>
                </div>
                <div id="calendar_grid" class="calendar-grid"></div>
            </div>
            
            <div id="entries" class="entries-list"></div>
        </section>

        <!-- Manual Entry View -->
        <section id="view_manual" class="view">
            <div class="card entry-form">
                <h2>Add Entry</h2>
                <label>Date
                    <input type="date" id="date">
                </label>
                <label>Start Time
                    <input type="time" id="start">
                </label>
                <label>End Time
                    <input type="time" id="end">
                </label>
                <label>Description
                    <input type="text" id="description" placeholder="What did you work on?">
                </label>
                <label class="checkbox-label">
                    <input type="checkbox" id="is_absence">
                    <span>Mark as absence</span>
                </label>
                <div class="form-actions">
                    <button id="add" class="btn btn-primary btn-large">Add Entry</button>
                </div>
            </div>
        </section>

        <!-- Sync View -->
        <section id="view_sync" class="view">
            <div class="card sync-card">
                <h2>Sync</h2>
                <p class="info-text">Sync your entries with the server for backup and access from other devices.</p>
                <div class="form-actions">
                    <button id="save_server" class="btn btn-primary btn-block">â¬†ï¸ Sync to Server</button>
                    <button id="load_server" class="btn btn-secondary btn-block">â¬‡ï¸ Load from Server</button>
                </div>
                <div id="status" class="status-message"></div>
            </div>
            
            <div class="card sync-card" style="margin-top: 20px;">
                <h2>Generate Report</h2>
                <p class="info-text">Export a date range report with daily and weekly totals.</p>
                <label>Start Date
                    <input type="date" id="report_start">
                </label>
                <label>End Date
                    <input type="date" id="report_end">
                </label>
                <div class="form-actions">
                    <button id="generate_report" class="btn btn-primary btn-block">ğŸ“Š Generate Report</button>
                </div>
            </div>
        </section>
    </main>

    <!-- Edit modal -->
    <div id="edit_modal" class="modal" aria-hidden="true">
        <div class="modal-content">
            <h3>Edit Entry</h3>
            <label>Date
                <input type="date" id="edit_date">
            </label>
            <label>Start
                <input type="time" id="edit_start">
            </label>
            <label>End
                <input type="time" id="edit_end">
            </label>
            <label>Description
                <input type="text" id="edit_description" placeholder="Description">
            </label>
            <div class="form-actions">
                <button id="edit_save" class="btn btn-primary">Save</button>
                <button id="edit_cancel" class="btn btn-secondary">Cancel</button>
            </div>
        </div>
    </div>

    <script src="/static/app.js"></script>
</body>

</html>